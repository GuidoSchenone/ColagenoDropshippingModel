{%- comment -%}
  snippets/product-reviews.liquid
  Renders star rating + count from product.metafields.reviews
  Usage: {% render 'product-reviews', product: product %}
{%- endcomment -%}

{%- assign rating = product.metafields.reviews.rating | times: 1 -%}
{%- assign count  = product.metafields.reviews.count  | times: 1 -%}

{%- if count > 0 -%}
  <div class="flex items-center space-x-2 text-sm">
    <span class="flex text-yellow-400">
      {%- for i in (1..5) -%}
        {%- if rating >= i -%}
          <i class="fas fa-star"></i>
        {%- elsif rating > i | minus: 1 -%}
          <i class="fas fa-star-half-alt"></i>
        {%- else -%}
          <i class="far fa-star"></i>
        {%- endif -%}
      {%- endfor -%}
    </span>
    <span class="text-gray-600">{{ count }} reseÃ±a{%- if count > 1 -%}s{%- endif -%}</span>
  </div>
{%- else -%}
  <p class="text-sm text-gray-500">No reviews yet.</p>
{%- endif -%}
