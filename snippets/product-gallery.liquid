<div class="space-y-4"><div class="bg-white rounded-2xl shadow-lg p-4 md:p-6"><div class="aspect-square bg-gray-100 rounded-xl overflow-hidden relative"><img id="main-image-{{ product.id }}" src="{{ product.images[0] | image_url: width: 1024 }}" alt="{{ product.title }}" class="w-full h-full object-contain"></div></div>
<div class="grid grid-cols-4 gap-2">{% for image in product.images limit:4 %}<div class="thumbnail aspect-square bg-white rounded-lg shadow flex items-center justify-center cursor-pointer border-2 {% if forloop.first %}border-purple-500{% else %}border-gray-200{% endif %} hover:border-purple-300 overflow-hidden" onclick="changeMainImage('{{ image | image_url: width: 1024 }}', this)"><img src="{{ image | image_url: width: 300 }}" alt="{{ product.title }} {{ forloop.index }}" class="w-full h-full object-contain"></div>{% endfor %}</div></div>
<script>function changeMainImage(src,el){document.getElementById('main-image-{{ product.id }}').src=src;document.querySelectorAll('.thumbnail').forEach(t=>t.classList.remove('border-purple-500'));el.classList.add('border-purple-500');}</script>
